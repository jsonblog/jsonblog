{{#> layout}}
  {{#*inline "content"}}
    {{#each posts}}
      <article class="mb-10 pb-8 border-b border-gray-200 last:border-b-0 transition-all duration-300 hover:translate-y-[-2px]">
        <h2 class="{{#if (eq this.type 'ai')}}text-xl text-gray-600 opacity-85{{else}}text-2xl text-gray-900{{/if}} mb-2 leading-tight">
          <a href="/{{this.slug}}.html" class="no-underline {{#if (eq this.type 'ai')}}text-gray-600{{else}}text-gray-900{{/if}} transition-colors hover:text-[#0066cc]">{{this.title}}</a>
          {{#if (eq this.type 'ai')}}
            <span class="inline-block text-[0.7em] font-medium text-gray-500 border border-gray-300 px-2 py-1 ml-2 rounded bg-gray-50 align-middle tracking-wide">[AI-Generated]</span>
          {{/if}}
        </h2>
        {{#if this.description}}
          <p class="my-3 {{#if (eq this.type 'ai')}}text-gray-500{{else}}text-gray-700{{/if}} leading-normal">{{this.description}}</p>
        {{/if}}
        <div class="text-sm text-gray-600">
          {{#if this.createdAt}}
            <time datetime="{{this.createdAt}}">{{formatDate this.createdAt}}</time>
          {{/if}}
          {{#if this.tags}}
            <div class="inline-block mt-3">
              {{#each this.tags}}
                <a href="/tag/{{slugify this}}.html" class="inline-block px-3 py-2 mr-3 mb-3 bg-gray-50 border border-gray-300 text-sm no-underline rounded font-medium transition-all hover:bg-black hover:text-white hover:border-black">{{this}}</a>
              {{/each}}
            </div>
          {{/if}}
          {{#if this.categories}}
            <div class="inline-block mt-3">
              {{#each this.categories}}
                <a href="/category/{{slugify this}}.html" class="inline-block px-3 py-2 mr-3 mb-3 bg-gray-50 border border-gray-300 text-sm no-underline rounded font-medium transition-all hover:bg-black hover:text-white hover:border-black">{{this}}</a>
              {{/each}}
            </div>
          {{/if}}
        </div>
      </article>
    {{/each}}

    {{#if pagination}}
      {{#if (gt pagination.totalPages 1)}}
        <nav class="flex justify-between items-center mt-12 pt-8 border-t-2 border-gray-300">
          {{#if pagination.hasPrev}}
            {{#if pagination.isFirstPage}}
              <a href="/" class="px-5 py-3 bg-gray-50 border border-gray-400 no-underline rounded font-medium text-[0.95rem] transition-all hover:bg-black hover:text-white hover:border-black hover:scale-105">← Previous</a>
            {{else}}
              <a href="/page/{{pagination.prevPage}}.html" class="px-5 py-3 bg-gray-50 border border-gray-400 no-underline rounded font-medium text-[0.95rem] transition-all hover:bg-black hover:text-white hover:border-black hover:scale-105">← Previous</a>
            {{/if}}
          {{else}}
            <span></span>
          {{/if}}

          <span class="text-gray-600 text-sm">
            Page {{pagination.currentPage}} of {{pagination.totalPages}}
          </span>

          {{#if pagination.hasNext}}
            <a href="/page/{{pagination.nextPage}}.html" class="px-5 py-3 bg-gray-50 border border-gray-400 no-underline rounded font-medium text-[0.95rem] transition-all hover:bg-black hover:text-white hover:border-black hover:scale-105">Next →</a>
          {{else}}
            <span></span>
          {{/if}}
        </nav>
      {{/if}}
    {{/if}}
  {{/inline}}
{{/layout}}
